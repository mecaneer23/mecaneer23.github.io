<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, user-scalable=0">
    <title>Page not found</title>
</head>

<body>
    <header class="header" w3-include-html="/resources/nav.html"></header>
    <main>
        <script>
            async function redirectToGithubRepo() {
                try {
                    const url = window.location.pathname;
                    const reponame = url.replace("/github", "").replace("/g", "");
                    const new_location = `https://github.com/mecaneer23${reponame}`
                    const response = await fetch(`https://api.github.com/repos/mecaneer23${reponame}`);
                    if (url.startsWith("/github/")) {
                        window.location.href = new_location;
                        return;
                    }
                    if (response.status !== 404) {
                        window.location.href = new_location;
                        return;
                    }
                } catch (error) {
                    console.error("Failed to fetch GitHub repo:", error);
                }
            }

            redirectToGithubRepo();
        </script>
        <h2>404: File not found</h2>
        <p>Check the file path in the url bar or click <a href="/">here</a> to be redirected back to the home page.</p>
        <div class="giant">4<iframe class="big-red-button" src="https://mecaneer23.net/big-red-button"></iframe>4</div>
        <p><a href="https://mecaneer23.github.io/big-red-button">Source link</a></p>
        <a id="pfp" href="https://github.com/mecaneer23">
            <img src="/resources/gearsNoBackground.png">
        </a>
    </main>
    <footer class="footer" w3-include-html="/resources/footer.html"></footer>
    <script src="/resources/include.js"></script>
    <script src="/resources/tools.js"></script>
</body>

</html>